#!/bin/bash
# ğŸ¯ multi-agent-shogun å‡ºé™£ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ¯æ—¥ã®èµ·å‹•ç”¨ï¼‰
# Daily Deployment Script for Multi-Agent Orchestration System
#
# ä½¿ç”¨æ–¹æ³•:
#   ./shutsujin_departure.sh           # å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•ï¼ˆé€šå¸¸ï¼‰
#   ./shutsujin_departure.sh -s        # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ã¿ï¼ˆClaudeèµ·å‹•ãªã—ï¼‰
#   ./shutsujin_departure.sh -h        # ãƒ˜ãƒ«ãƒ—è¡¨ç¤º

set -e

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å–å¾—
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
cd "$SCRIPT_DIR"

# è¨€èªè¨­å®šã‚’èª­ã¿å–ã‚Šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: jaï¼‰
LANG_SETTING="ja"
if [ -f "./config/settings.yaml" ]; then
    LANG_SETTING=$(grep "^language:" ./config/settings.yaml 2>/dev/null | awk '{print $2}' || echo "ja")
fi

# è‰²ä»˜ããƒ­ã‚°é–¢æ•°ï¼ˆæˆ¦å›½é¢¨ï¼‰
log_info() {
    echo -e "\033[1;33mã€å ±ã€‘\033[0m $1"
}

log_success() {
    echo -e "\033[1;32mã€æˆã€‘\033[0m $1"
}

log_war() {
    echo -e "\033[1;31mã€æˆ¦ã€‘\033[0m $1"
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³è§£æ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SETUP_ONLY=false
OPEN_TERMINAL=false

while [[ $# -gt 0 ]]; do
    case $1 in
        -s|--setup-only)
            SETUP_ONLY=true
            shift
            ;;
        -t|--terminal)
            OPEN_TERMINAL=true
            shift
            ;;
        -h|--help)
            echo ""
            echo "ğŸ¯ multi-agent-shogun å‡ºé™£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ"
            echo ""
            echo "ä½¿ç”¨æ–¹æ³•: ./shutsujin_departure.sh [ã‚ªãƒ—ã‚·ãƒ§ãƒ³]"
            echo ""
            echo "ã‚ªãƒ—ã‚·ãƒ§ãƒ³:"
            echo "  -s, --setup-only  tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ã¿ï¼ˆClaudeèµ·å‹•ãªã—ï¼‰"
            echo "  -t, --terminal    Windows Terminal ã§æ–°ã—ã„ã‚¿ãƒ–ã‚’é–‹ã"
            echo "  -h, --help        ã“ã®ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º"
            echo ""
            echo "ä¾‹:"
            echo "  ./shutsujin_departure.sh      # å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹•ï¼ˆé€šå¸¸ã®å‡ºé™£ï¼‰"
            echo "  ./shutsujin_departure.sh -s   # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ã¿ï¼ˆæ‰‹å‹•ã§Claudeèµ·å‹•ï¼‰"
            echo "  ./shutsujin_departure.sh -t   # å…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆèµ·å‹• + ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¿ãƒ–å±•é–‹"
            echo ""
            echo "ã‚¨ã‚¤ãƒªã‚¢ã‚¹:"
            echo "  csst  â†’ cd /mnt/c/tools/multi-agent-shogun && ./shutsujin_departure.sh"
            echo "  css   â†’ tmux attach-session -t shogun"
            echo "  csm   â†’ tmux attach-session -t multiagent"
            echo ""
            exit 0
            ;;
        *)
            echo "ä¸æ˜ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³: $1"
            echo "./shutsujin_departure.sh -h ã§ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º"
            exit 1
            ;;
    esac
done

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# å‡ºé™£ãƒãƒŠãƒ¼è¡¨ç¤ºï¼ˆCC0ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ASCIIã‚¢ãƒ¼ãƒˆä½¿ç”¨ï¼‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ã€è‘—ä½œæ¨©ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¡¨ç¤ºã€‘
# å¿è€…ASCIIã‚¢ãƒ¼ãƒˆ: syntax-samurai/ryu - CC0 1.0 Universal (Public Domain)
# å‡ºå…¸: https://github.com/syntax-samurai/ryu
# "all files and scripts in this repo are released CC0 / kopimi!"
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
show_battle_cry() {
    clear

    # ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒŠãƒ¼ï¼ˆè‰²ä»˜ãï¼‰
    echo ""
    echo -e "\033[1;31mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m \033[1;33mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—\033[0m \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m \033[1;33mâ–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘\033[0m \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m \033[1;33mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘\033[0m \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m \033[1;33mâ•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆ   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘\033[0m \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m \033[1;33mâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘\033[0m \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m \033[1;33mâ•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â• â•šâ•â•â•šâ•â•  â•šâ•â•â•â•\033[0m \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\033[0m"
    echo -e "\033[1;31mâ•‘\033[0m       \033[1;37må‡ºé™£ã˜ã‚ƒãƒ¼ãƒ¼ãƒ¼ï¼ï¼ï¼\033[0m    \033[1;36mâš”\033[0m    \033[1;35må¤©ä¸‹å¸ƒæ­¦ï¼\033[0m                          \033[1;31mâ•‘\033[0m"
    echo -e "\033[1;31mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\033[0m"
    echo ""

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # è¶³è»½éšŠåˆ—ï¼ˆã‚ªãƒªã‚¸ãƒŠãƒ«ï¼‰
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    echo -e "\033[1;34m  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\033[0m"
    echo -e "\033[1;34m  â•‘\033[0m                    \033[1;37mã€ è¶³ è»½ éšŠ åˆ— ãƒ» å…« å é… å‚™ ã€‘\033[0m                      \033[1;34mâ•‘\033[0m"
    echo -e "\033[1;34m  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\033[0m"

    cat << 'ASHIGARU_EOF'

       /\      /\      /\      /\      /\      /\      /\      /\
      /||\    /||\    /||\    /||\    /||\    /||\    /||\    /||\
     /_||\   /_||\   /_||\   /_||\   /_||\   /_||\   /_||\   /_||\
       ||      ||      ||      ||      ||      ||      ||      ||
      /||\    /||\    /||\    /||\    /||\    /||\    /||\    /||\
      /  \    /  \    /  \    /  \    /  \    /  \    /  \    /  \
     [è¶³1]   [è¶³2]   [è¶³3]   [è¶³4]   [è¶³5]   [è¶³6]   [è¶³7]   [è¶³8]

ASHIGARU_EOF

    echo -e "                    \033[1;36mã€Œã€Œã€Œ ã¯ã£ï¼ï¼ å‡ºé™£ã„ãŸã™ï¼ï¼ ã€ã€ã€\033[0m"
    echo ""

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    echo -e "\033[1;33m  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“\033[0m"
    echo -e "\033[1;33m  â”ƒ\033[0m  \033[1;37mğŸ¯ multi-agent-shogun\033[0m  ã€œ \033[1;36mæˆ¦å›½ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµ±ç‡ã‚·ã‚¹ãƒ†ãƒ \033[0m ã€œ           \033[1;33mâ”ƒ\033[0m"
    echo -e "\033[1;33m  â”ƒ\033[0m                                                                           \033[1;33mâ”ƒ\033[0m"
    echo -e "\033[1;33m  â”ƒ\033[0m    \033[1;35må°†è»\033[0m: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±æ‹¬    \033[1;31må®¶è€\033[0m: ã‚¿ã‚¹ã‚¯ç®¡ç†    \033[1;34mè¶³è»½\033[0m: å®Ÿåƒéƒ¨éšŠÃ—8      \033[1;33mâ”ƒ\033[0m"
    echo -e "\033[1;33m  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›\033[0m"
    echo ""
}

# ãƒãƒŠãƒ¼è¡¨ç¤ºå®Ÿè¡Œ
show_battle_cry

echo -e "  \033[1;33må¤©ä¸‹å¸ƒæ­¦ï¼é™£ç«‹ã¦ã‚’é–‹å§‹ã„ãŸã™\033[0m (Setting up the battlefield)"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 1: æ—¢å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log_info "ğŸ§¹ æ—¢å­˜ã®é™£ã‚’æ’¤åä¸­..."
tmux kill-session -t multiagent 2>/dev/null && log_info "  â””â”€ multiagenté™£ã€æ’¤åå®Œäº†" || log_info "  â””â”€ multiagenté™£ã¯å­˜åœ¨ã›ãš"
tmux kill-session -t shogun 2>/dev/null && log_info "  â””â”€ shogunæœ¬é™£ã€æ’¤åå®Œäº†" || log_info "  â””â”€ shogunæœ¬é™£ã¯å­˜åœ¨ã›ãš"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 2: å ±å‘Šãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚»ãƒƒãƒˆ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log_info "ğŸ“œ å‰å›ã®è»è­°è¨˜éŒ²ã‚’ç ´æ£„ä¸­..."
for i in {1..8}; do
    cat > ./queue/reports/ashigaru${i}_report.yaml << EOF
worker_id: ashigaru${i}
task_id: null
timestamp: ""
status: idle
result: null
EOF
done

# ã‚­ãƒ¥ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚»ãƒƒãƒˆ
cat > ./queue/shogun_to_karo.yaml << 'EOF'
queue: []
EOF

cat > ./queue/karo_to_ashigaru.yaml << 'EOF'
assignments:
  ashigaru1:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru2:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru3:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru4:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru5:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru6:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru7:
    task_id: null
    description: null
    target_path: null
    status: idle
  ashigaru8:
    task_id: null
    description: null
    target_path: null
    status: idle
EOF

log_success "âœ… é™£æ‰•ã„å®Œäº†"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 3: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åˆæœŸåŒ–
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log_info "ğŸ“Š æˆ¦æ³å ±å‘Šæ¿ã‚’åˆæœŸåŒ–ä¸­..."
TIMESTAMP=$(date "+%Y-%m-%d %H:%M")

if [ "$LANG_SETTING" = "ja" ]; then
    # æ—¥æœ¬èªã®ã¿
    cat > ./dashboard.md << EOF
# ğŸ“Š æˆ¦æ³å ±å‘Š
æœ€çµ‚æ›´æ–°: ${TIMESTAMP}

## ğŸš¨ è¦å¯¾å¿œ - æ®¿ã®ã”åˆ¤æ–­ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™
ãªã—

## ğŸ”„ é€²è¡Œä¸­ - åªä»Šã€æˆ¦é—˜ä¸­ã§ã”ã–ã‚‹
ãªã—

## âœ… æœ¬æ—¥ã®æˆ¦æœ
| æ™‚åˆ» | æˆ¦å ´ | ä»»å‹™ | çµæœ |
|------|------|------|------|

## ğŸ¯ ã‚¹ã‚­ãƒ«åŒ–å€™è£œ - æ‰¿èªå¾…ã¡
ãªã—

## ğŸ› ï¸ ç”Ÿæˆã•ã‚ŒãŸã‚¹ã‚­ãƒ«
ãªã—

## â¸ï¸ å¾…æ©Ÿä¸­
ãªã—

## â“ ä¼ºã„äº‹é …
ãªã—
EOF
else
    # æ—¥æœ¬èª + ç¿»è¨³ä½µè¨˜
    cat > ./dashboard.md << EOF
# ğŸ“Š æˆ¦æ³å ±å‘Š (Battle Status Report)
æœ€çµ‚æ›´æ–° (Last Updated): ${TIMESTAMP}

## ğŸš¨ è¦å¯¾å¿œ - æ®¿ã®ã”åˆ¤æ–­ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ (Action Required - Awaiting Lord's Decision)
ãªã— (None)

## ğŸ”„ é€²è¡Œä¸­ - åªä»Šã€æˆ¦é—˜ä¸­ã§ã”ã–ã‚‹ (In Progress - Currently in Battle)
ãªã— (None)

## âœ… æœ¬æ—¥ã®æˆ¦æœ (Today's Achievements)
| æ™‚åˆ» (Time) | æˆ¦å ´ (Battlefield) | ä»»å‹™ (Mission) | çµæœ (Result) |
|------|------|------|------|

## ğŸ¯ ã‚¹ã‚­ãƒ«åŒ–å€™è£œ - æ‰¿èªå¾…ã¡ (Skill Candidates - Pending Approval)
ãªã— (None)

## ğŸ› ï¸ ç”Ÿæˆã•ã‚ŒãŸã‚¹ã‚­ãƒ« (Generated Skills)
ãªã— (None)

## â¸ï¸ å¾…æ©Ÿä¸­ (On Standby)
ãªã— (None)

## â“ ä¼ºã„äº‹é … (Questions for Lord)
ãªã— (None)
EOF
fi

log_success "  â””â”€ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åˆæœŸåŒ–å®Œäº† (è¨€èª: $LANG_SETTING)"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 4: multiagentã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆï¼ˆ9ãƒšã‚¤ãƒ³ï¼škaro + ashigaru1-8ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log_war "âš”ï¸ å®¶è€ãƒ»è¶³è»½ã®é™£ã‚’æ§‹ç¯‰ä¸­ï¼ˆ9åé…å‚™ï¼‰..."

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆï¼ˆ1ãƒšã‚¤ãƒ³ç›®ï¼‰
tmux new-session -d -s multiagent -n "agents"

# 8å›åˆ†å‰²ã—ã¦åˆè¨ˆ9ãƒšã‚¤ãƒ³ã‚’ä½œæˆ
for _ in {1..8}; do
    tmux split-window -t multiagent
done

# ã‚¿ã‚¤ãƒ«çŠ¶ã«å‡ç­‰é…ç½®
tmux select-layout -t multiagent tiled

# ãƒšã‚¤ãƒ³IDã‚’å–å¾—ã—ã¦ã‚¿ã‚¤ãƒˆãƒ«è¨­å®š
PANE_TITLES=("karo" "ashigaru1" "ashigaru2" "ashigaru3" "ashigaru4" "ashigaru5" "ashigaru6" "ashigaru7" "ashigaru8")
PANE_COLORS=("1;31" "1;34" "1;34" "1;34" "1;34" "1;34" "1;34" "1;34" "1;34")

# ãƒšã‚¤ãƒ³IDãƒªã‚¹ãƒˆã‚’å–å¾—
PANE_IDS=($(tmux list-panes -t multiagent -F '#{pane_id}'))

for i in {0..8}; do
    tmux select-pane -t "${PANE_IDS[$i]}" -T "${PANE_TITLES[$i]}"
    tmux send-keys -t "${PANE_IDS[$i]}" "cd $(pwd) && clear" Enter
done

log_success "  â””â”€ å®¶è€ãƒ»è¶³è»½ã®é™£ã€æ§‹ç¯‰å®Œäº†"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 5: shogunã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆï¼ˆ1ãƒšã‚¤ãƒ³ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log_war "ğŸ‘‘ å°†è»ã®æœ¬é™£ã‚’æ§‹ç¯‰ä¸­..."
tmux new-session -d -s shogun
tmux send-keys -t shogun "cd $(pwd) && export PS1='(\[\033[1;35m\]å°†è»\[\033[0m\]) \[\033[1;32m\]\w\[\033[0m\]\$ ' && clear" Enter
# å°†è»ãƒšã‚¤ãƒ³ã®èƒŒæ™¯è‰²è¨­å®šï¼ˆbase-indexã«ä¾å­˜ã—ãªã„æ–¹æ³•ï¼‰
SHOGUN_PANE=$(tmux list-panes -t shogun -F '#{pane_id}' | head -1)
tmux select-pane -t "$SHOGUN_PANE" -P 'bg=#002b36'  # å°†è»ã® Solarized Dark

log_success "  â””â”€ å°†è»ã®æœ¬é™£ã€æ§‹ç¯‰å®Œäº†"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 6: Claude Code èµ·å‹•ï¼ˆ--setup-only ã§ã‚¹ã‚­ãƒƒãƒ—ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if [ "$SETUP_ONLY" = false ]; then
    log_war "ğŸ‘‘ å…¨è»ã« Claude Code ã‚’å¬å–šä¸­..."

    # å°†è»
    tmux send-keys -t shogun "MAX_THINKING_TOKENS=0 claude --model opus --dangerously-skip-permissions"
    tmux send-keys -t shogun Enter
    log_info "  â””â”€ å°†è»ã€å¬å–šå®Œäº†"

    # å°‘ã—å¾…æ©Ÿï¼ˆå®‰å®šã®ãŸã‚ï¼‰
    sleep 1

    # å®¶è€ + è¶³è»½ï¼ˆ9ãƒšã‚¤ãƒ³ï¼‰- ãƒšã‚¤ãƒ³IDã§å‚ç…§
    PANE_IDS=($(tmux list-panes -t multiagent -F '#{pane_id}'))
    for pane_id in "${PANE_IDS[@]}"; do
        tmux send-keys -t "$pane_id" "claude --dangerously-skip-permissions"
        tmux send-keys -t "$pane_id" Enter
    done
    log_info "  â””â”€ å®¶è€ãƒ»è¶³è»½ã€å¬å–šå®Œäº†"

    log_success "âœ… å…¨è» Claude Code èµ·å‹•å®Œäº†"
    echo ""

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # STEP 6.5: å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æŒ‡ç¤ºæ›¸ã‚’èª­ã¿è¾¼ã¾ã›ã‚‹
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    log_war "ğŸ“œ å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æŒ‡ç¤ºæ›¸ã‚’èª­ã¿è¾¼ã¾ã›ä¸­..."
    echo ""

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # å¿è€…æˆ¦å£«ï¼ˆsyntax-samurai/ryu - CC0 1.0 Public Domainï¼‰
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    echo -e "\033[1;35m  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\033[0m"
    echo -e "\033[1;35m  â”‚\033[0m                              \033[1;37mã€ å¿ è€… æˆ¦ å£« ã€‘\033[0m  Ryu Hayabusa (CC0 Public Domain)                        \033[1;35mâ”‚\033[0m"
    echo -e "\033[1;35m  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\033[0m"

    cat << 'NINJA_EOF'
...................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’                         ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’  â–’â–’â–’â–’â–’â–’â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’                         ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’          â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’                             ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’               â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                                ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’                    â–’â–’â–’â–’â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                                    ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’                            â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’                                        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘      â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                                      â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘       â–’          ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–’    â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘                                 â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘               ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘     â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘                          â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–’  â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘             â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–‘   â–’         ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘  â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘  â–’         ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–‘    â–’        ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’  â–‘ â–‘               â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘                 â–‘            ...................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘  â–‘                 â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–“â–“â–“â–“â–‘â–‘â–‘â–“â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“                    â–‘ â–‘   â–’         ..................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’   â–‘â–‘â–‘â–‘â–‘ â–‘                  â–“â–“â–“â–“â–“â–“â–‘â–“â–“â–“â–“â–‘â–‘â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“                    â–‘  â–‘ â–‘  â–’         ..................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘                 â–‘â–“â–‘â–‘â–“â–“â–“â–“â–“â–‘â–“â–“â–“â–‘â–‘â–‘â–‘â–‘                   â–‘ â–‘â–‘ â–‘â–‘ â–‘   â–’         ..................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’    â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â–‘â–‘                    â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘                   â–‘â–‘    â–‘ â–‘â–‘ â–‘    â–’        ..................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                      â–‘â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘                     â–‘â–‘â–‘  â–‘  â–‘ â–‘   â–’        ..................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–’    â–‘â–‘â–‘â–‘â–‘â–‘                         â–‘â–‘â–‘â–“â–“â–“â–‘â–“â–‘â–‘â–‘â–‘      â–‘                  â–‘ â–‘â–‘ â–‘    â–’        ..................................
.................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–’    â–‘â–‘â–‘â–‘â–‘â–‘â–‘     â–“â–“        â–“  â–‘â–‘ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–‘   â–‘â–‘  â–“        â–ˆâ–“       â–‘  â–‘ â–‘   â–’â–’       ..................................
..................................â–‘â–‘â–‘â–‘â–‘â–’ â–’    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–“â–“â–ˆâ–ˆ  â–“  â–ˆâ–ˆ â–ˆâ–ˆâ–“  â–“ â–‘â–‘â–‘â–“â–‘  â–‘ â–‘ â–‘â–‘â–‘â–‘  â–“   â–ˆâ–ˆ â–“â–ˆ  â–“  â–ˆâ–ˆâ–“â–“  â–‘â–‘â–‘â–‘  â–‘ â–‘    â–’      ...................................
..................................â–‘â–‘â–‘â–‘â–‘â–’ â–’â–’   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–“â–ˆâ–ˆ  â–“â–“  â–“ â–ˆâ–ˆâ–“  â–“â–‘â–‘â–‘â–‘â–“â–“â–‘  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–“  â–“â–ˆâ–ˆ â–“   â–“  â–ˆâ–ˆâ–“â–“ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘     â–’      ...................................
..................................â–‘â–‘â–‘â–‘â–‘  â–’â–‘   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–‘â–‘ â–“â–ˆâ–ˆâ–ˆ  â–“â–“â–“â–“ â–ˆâ–ˆâ–ˆâ–‘  â–‘â–‘â–‘â–‘â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘    â–‘â–“â–ˆâ–ˆ  â–“â–“â–“  â–ˆâ–ˆâ–ˆâ–“ â–‘â–‘â–“â–“â–‘â–‘  â–‘    â–’ â–’      ...................................
...................................â–‘â–‘â–‘â–‘  â–’â–‘    â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–‘  â–ˆâ–ˆâ–ˆ    â–ˆâ–ˆ      â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘     â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆ â–‘â–‘â–“â–“â–“â–“â–‘â–‘  â–‘    â–’ â–’      ...................................
...................................â–‘â–‘â–‘â–‘ â–’ â–‘â–’    â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–“â–“â–“â–‘â–‘ â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘    â–’â–’ â–’      ...................................
...................................â–‘â–‘â–‘â–‘ â–‘ â–‘â–‘     â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘ â–‘â–‘   â–‘â–‘â–“â–‘â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–‘â–‘      â–’â–’ â–’      ...................................
...................................â–‘â–‘â–‘â–‘ â–‘ â–‘â–‘      â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–ˆâ–ˆ  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–‘â–‘ â–‘    â–’â–’  â–’      ...................................
...................................â–‘â–‘â–‘â–‘â–’â–‘â–‘â–’â–‘â–‘      â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–‘â–‘â–‘â–‘      â–’â–’  â–’     ....................................
...................................â–‘â–‘â–‘â–‘â–’â–‘â–‘ â–‘â–‘       â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘        â–’â–’  â–’     ....................................
...................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–’â–‘â–’       â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–“â–“â–“â–‘â–‘   â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘         â–’   â–’     ....................................
...................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘           â–‘â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“              â–‘    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘            â–’   â–’     ....................................
....................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’  â–’â–’        â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’                         â–’â–’â–’â–’â–’   â–’    â–’    .....................................
....................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–’ â–’â–’â–’â–‘â–‘â–‘        â–“â–“â–“â–“â–“â–“   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’      â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–’â–’    â–’â–’â–’â–’â–’â–’â–’  â–’â–’    â–’    .....................................
....................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘â–‘ â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘          â–‘â–‘â–‘â–‘â–‘ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–‘â–’     â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–‘â–’â–’â–’â–’   â–’â–’         .....................................
.....................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘â–‘â–‘â–‘  â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–’â–‘â–’â–’    â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–‘â–‘â–’â–’â–’   â–’â–’â–’         ......................................
.....................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â–’   â–’â–’â–’â–’â–’â–’â–’â–‘â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–’â–’â–’   â–’â–’          ......................................
.....................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘      â–’â–’â–’â–’â–’â–’â–’    â–’  â–‘â–‘â–‘â–’â–’â–’â–’  â–’â–’â–’          ......................................
......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â–’â–‘â–’â–’â–’ â–’â–’â–’    â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’   â–’â–’â–’â–’      â–’   .......................................
......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’  â–‘â–‘â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’  â–‘â–’â–’â–’â–’       â–’   .......................................
......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’ â–’â–’â–‘â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–’â–’â–’â–’â–’       â–’   .......................................
......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’ â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–’â–‘â–‘â–‘â–‘â–‘â–‘ â–‘â–‘â–’â–’â–’â–’â–’â–’      â–’    .......................................
.......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–‘â–‘â–’â–‘â–’â–’â–’ â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’        â–’    .......................................
.......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–‘â–’â–’â–’â–’â–’     â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’        â–’    .......................................
.......................................â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–‘â–‘â–’â–‘â–’â–’â–’â–’â–’â–’  â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’        â–’     .......................................
NINJA_EOF

    echo ""
    echo -e "                                    \033[1;35mã€Œ å¤©ä¸‹å¸ƒæ­¦ï¼å‹åˆ©ã‚’æ´ã‚ï¼ ã€\033[0m"
    echo ""
    echo -e "                               \033[0;36m[ASCII Art: syntax-samurai/ryu - CC0 1.0 Public Domain]\033[0m"
    echo ""

    echo "  Claude Code ã®èµ·å‹•ã‚’å¾…æ©Ÿä¸­ï¼ˆ15ç§’ï¼‰..."
    sleep 15

    # å°†è»ã«æŒ‡ç¤ºæ›¸ã‚’èª­ã¿è¾¼ã¾ã›ã‚‹
    log_info "  â””â”€ å°†è»ã«æŒ‡ç¤ºæ›¸ã‚’ä¼é”ä¸­..."
    tmux send-keys -t shogun "instructions/shogun.md ã‚’èª­ã‚“ã§å½¹å‰²ã‚’ç†è§£ã›ã‚ˆã€‚"
    sleep 0.5
    tmux send-keys -t shogun Enter

    # ãƒšã‚¤ãƒ³IDãƒªã‚¹ãƒˆã‚’å†å–å¾—
    PANE_IDS=($(tmux list-panes -t multiagent -F '#{pane_id}'))

    # å®¶è€ã«æŒ‡ç¤ºæ›¸ã‚’èª­ã¿è¾¼ã¾ã›ã‚‹ï¼ˆæœ€åˆã®ãƒšã‚¤ãƒ³ï¼‰
    sleep 2
    log_info "  â””â”€ å®¶è€ã«æŒ‡ç¤ºæ›¸ã‚’ä¼é”ä¸­..."
    tmux send-keys -t "${PANE_IDS[0]}" "instructions/karo.md ã‚’èª­ã‚“ã§å½¹å‰²ã‚’ç†è§£ã›ã‚ˆã€‚"
    sleep 0.5
    tmux send-keys -t "${PANE_IDS[0]}" Enter

    # è¶³è»½ã«æŒ‡ç¤ºæ›¸ã‚’èª­ã¿è¾¼ã¾ã›ã‚‹ï¼ˆæ®‹ã‚Š8ãƒšã‚¤ãƒ³ï¼‰
    sleep 2
    log_info "  â””â”€ è¶³è»½ã«æŒ‡ç¤ºæ›¸ã‚’ä¼é”ä¸­..."
    for i in {1..8}; do
        tmux send-keys -t "${PANE_IDS[$i]}" "instructions/ashigaru.md ã‚’èª­ã‚“ã§å½¹å‰²ã‚’ç†è§£ã›ã‚ˆã€‚æ±ã¯è¶³è»½${i}å·ã§ã‚ã‚‹ã€‚"
        sleep 0.3
        tmux send-keys -t "${PANE_IDS[$i]}" Enter
        sleep 0.5
    done

    log_success "âœ… å…¨è»ã«æŒ‡ç¤ºæ›¸ä¼é”å®Œäº†"
    echo ""
fi

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 7: ç’°å¢ƒç¢ºèªãƒ»å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log_info "ğŸ” é™£å®¹ã‚’ç¢ºèªä¸­..."
echo ""
echo "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "  â”‚  ğŸ“º Tmuxé™£å®¹ (Sessions)                                  â”‚"
echo "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
tmux list-sessions | sed 's/^/     /'
echo ""
echo "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "  â”‚  ğŸ“‹ å¸ƒé™£å›³ (Formation)                                   â”‚"
echo "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "     ã€shogunã‚»ãƒƒã‚·ãƒ§ãƒ³ã€‘å°†è»ã®æœ¬é™£"
echo "     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "     â”‚  Pane 0: å°†è» (SHOGUN)      â”‚  â† ç·å¤§å°†ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±æ‹¬"
echo "     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "     ã€multiagentã‚»ãƒƒã‚·ãƒ§ãƒ³ã€‘å®¶è€ãƒ»è¶³è»½ã®é™£ï¼ˆ3x3 = 9ãƒšã‚¤ãƒ³ï¼‰"
echo "     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "     â”‚  karo   â”‚ashigaru3â”‚ashigaru6â”‚"
echo "     â”‚  (å®¶è€) â”‚ (è¶³è»½3) â”‚ (è¶³è»½6) â”‚"
echo "     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "     â”‚ashigaru1â”‚ashigaru4â”‚ashigaru7â”‚"
echo "     â”‚ (è¶³è»½1) â”‚ (è¶³è»½4) â”‚ (è¶³è»½7) â”‚"
echo "     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "     â”‚ashigaru2â”‚ashigaru5â”‚ashigaru8â”‚"
echo "     â”‚ (è¶³è»½2) â”‚ (è¶³è»½5) â”‚ (è¶³è»½8) â”‚"
echo "     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""

echo ""
echo "  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "  â•‘  ğŸ¯ å‡ºé™£æº–å‚™å®Œäº†ï¼å¤©ä¸‹å¸ƒæ­¦ï¼                              â•‘"
echo "  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

if [ "$SETUP_ONLY" = true ]; then
    echo "  âš ï¸  ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ã¿ãƒ¢ãƒ¼ãƒ‰: Claude Codeã¯æœªèµ·å‹•ã§ã™"
    echo ""
    echo "  æ‰‹å‹•ã§Claude Codeã‚’èµ·å‹•ã™ã‚‹ã«ã¯:"
    echo "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
    echo "  â”‚  # å°†è»ã‚’å¬å–š                                            â”‚"
    echo "  â”‚  tmux send-keys -t shogun 'claude --dangerously-skip-permissions' Enter â”‚"
    echo "  â”‚                                                          â”‚"
    echo "  â”‚  # å®¶è€ãƒ»è¶³è»½ã‚’ä¸€æ–‰å¬å–š                                   â”‚"
    echo "  â”‚  for i in {0..8}; do \\                                   â”‚"
    echo "  â”‚    tmux send-keys -t multiagent:0.\$i \\                   â”‚"
    echo "  â”‚      'claude --dangerously-skip-permissions' Enter       â”‚"
    echo "  â”‚  done                                                    â”‚"
    echo "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
    echo ""
fi

echo "  æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:"
echo "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "  â”‚  å°†è»ã®æœ¬é™£ã«ã‚¢ã‚¿ãƒƒãƒã—ã¦å‘½ä»¤ã‚’é–‹å§‹:                      â”‚"
echo "  â”‚     tmux attach-session -t shogun   (ã¾ãŸã¯: css)        â”‚"
echo "  â”‚                                                          â”‚"
echo "  â”‚  å®¶è€ãƒ»è¶³è»½ã®é™£ã‚’ç¢ºèªã™ã‚‹:                                â”‚"
echo "  â”‚     tmux attach-session -t multiagent   (ã¾ãŸã¯: csm)    â”‚"
echo "  â”‚                                                          â”‚"
echo "  â”‚  â€» å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯æŒ‡ç¤ºæ›¸ã‚’èª­ã¿è¾¼ã¿æ¸ˆã¿ã€‚                 â”‚"
echo "  â”‚    ã™ãã«å‘½ä»¤ã‚’é–‹å§‹ã§ãã¾ã™ã€‚                             â”‚"
echo "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "   å¤©ä¸‹å¸ƒæ­¦ï¼å‹åˆ©ã‚’æ´ã‚ï¼ (Tenka Fubu! Seize victory!)"
echo "  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# STEP 8: Windows Terminal ã§ã‚¿ãƒ–ã‚’é–‹ãï¼ˆ-t ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ™‚ã®ã¿ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if [ "$OPEN_TERMINAL" = true ]; then
    log_info "ğŸ“º Windows Terminal ã§ã‚¿ãƒ–ã‚’å±•é–‹ä¸­..."

    # Windows Terminal ãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª
    if command -v wt.exe &> /dev/null; then
        wt.exe -w 0 new-tab wsl.exe -e bash -c "tmux attach-session -t shogun" \; new-tab wsl.exe -e bash -c "tmux attach-session -t multiagent"
        log_success "  â””â”€ ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¿ãƒ–å±•é–‹å®Œäº†"
    else
        log_info "  â””â”€ wt.exe ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚æ‰‹å‹•ã§ã‚¢ã‚¿ãƒƒãƒã—ã¦ãã ã•ã„ã€‚"
    fi
    echo ""
fi
